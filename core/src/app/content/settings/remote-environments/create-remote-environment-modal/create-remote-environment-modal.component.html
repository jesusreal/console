<div luigiClientCommunication [isActive]="isActive">
  <fd-modal #createApplicationModal role="dialog" aria-labelledby="confirm" (click)="$event.stopPropagation()">
    <fd-modal-header>Create Application</fd-modal-header>
      <fd-modal-body>
        <form>
          <div class="fd-form__group">
            <div class="fd-alert fd-alert--error fd-has-margin-bottom-small" role="alert" *ngIf="error">{{ error }}</div>
            <div class="fd-input-group fd-has-display-block">
              <label class="fd-form__label">Name *</label>
              <input fd-form__control
                #nameInput 
                autofocus 
                type="text" 
                name="remoteEnvName"
                [(ngModel)]="name" 
                (ngModelChange)=validateRemoteEnvNameRegex()
                placeholder="Specify a name for your Application"
                autocomplete="off">
              <div *ngIf="wrongRemoteEnvName" class="fd-alert fd-alert--error fd-has-margin-bottom-small" role="alert">
                The Application name has the wrong format. The name must consist
                of lower case alphanumeric characters, dashes or dots, must start and end with an alphanumeric
                character and cannot be longer that 253 characters(e.g. 'my-name1.com').
              </div>
            </div>
            <div class="fd-input-group fd-has-display-block">
              <label class="fd-form__label">Description *</label>
              <input fd-form__control
                type="text" 
                name="remoteEnvDescription"
                [(ngModel)]="description"
                placeholder="Specify a description for your Application"
                autocomplete="off">
            </div>
            <div class="fd-input-group fd-has-display-block">
              <label class="fd-form__label">Labels</label>
              <app-labels-input (labelsChangeEmitter$)="updateLabelsData($event)"></app-labels-input>
            </div>
          </div>
        </form>
      </fd-modal-body>
      <fd-modal-footer>
        <button fd-button
          [options]="'emphasized'"
          [state]="!isReadyToCreate()? 'disabled' : ''" 
          (click)="save()">
          Create
        </button>
        <button fd-button (click)="close()">Cancel</button>
    </fd-modal-footer>
  </fd-modal>
</div>
