<div luigiClientCommunication [isActive]="isActive">
  <fd-modal #createEnvironmentModal role="dialog" aria-labelledby="createEnv">
    <fd-modal-header>
      Create New Namespace
    </fd-modal-header>
    <fd-modal-body>
      <fd-alert class="fd-has-margin-bottom-small" [dismissible]="false" [type]="'error'" *ngIf="err">
          <p>{{ err }}</p>
      </fd-alert>
      <div fd-form-set>
        <div fd-form-item>
          <fd-form-label>Namespace Name *</fd-form-label>
          <input fd-form-control 
            [type]="'text'" 
            placeholder="" 
            name="environmentName"
            [(ngModel)]="environmentName"
            (ngModelChange)=validateRegex()
            [state]="wrongName ? 'invalid' : undefind">
          <fd-form-message [type]="'error'" *ngIf="wrongName">The namespace name has the wrong format. The name must
            consist of lower case alphanumeric characters or dashes, and must start and end with an alphanumeric
            character. (e.g. 'my-name1')</fd-form-message>
        </div>
      </div>
    </fd-modal-body>
    <fd-modal-footer>
      <button fd-button 
        [options]="'light'" 
        (click)="cancel()">
        Cancel
      </button>
      <button fd-button 
        class="env-create-btn" 
        [fdType]="'main'" 
        (click)="createEnvironment()" 
        [disabled]="(!environmentName) || wrongName">
        Create
      </button>
    </fd-modal-footer>
  </fd-modal>
</div>